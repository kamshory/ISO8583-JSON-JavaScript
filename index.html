<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RoyISO8583</title>
    <script src="iso-8583.js"></script>
    <link rel="stylesheet" href="css.css">
</head>
<body>
    <script>
        window.onload = function()
        {
            var ori = '0200B23A400108818000000000001000010A370000000000000000112707241600000414241311281128601204alto000000000248KOI             034PI06054501CN12522030064594AC042500360071234567123eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJBTFRPIiwiZXhwIjoxNjA2NzIyMTI5fQ.tyJ5WjfiuuG3AH5ugaXlNNXPlZocDJnPpsnC7x-12_M00009071234567';
            var a = new RoyISO8583();
            a.parse(ori);
            var b = new RoyISO8583();
            var values = a.listValue();
            b.setType(a.getType());
            for(var i in values)
            {
                b.addBit(values[i].key, values[i].value)
            }
            var copy = b.getISO();

            console.log(a.getBitmap())
            console.log(b.getBitmap())
            console.log(a.getBody())
            console.log(b.getBody())

            console.log(ori)
            console.log(copy)
            console.log(a.listValue())
            console.log(b.listValue())
            if(ori == copy)
            {
                console.log('Equal');
            }
            console.log(a.getData());
            console.log(a.getData(3));
        }

    </script>

    <div class="iso-container">
        <div class="iso-message-container">

        <form action="">
            <div class="form-control-wrapper">
                <textarea name="iso" id="iso" class="textarea" rows="3">0200B23A400108818000000000001000010A370000000000000000112707241600000414241311281128601204alto000000000248KOI             034PI06054501CN12522030064594AC042500360071234567123eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJBTFRPIiwiZXhwIjoxNjA2NzIyMTI5fQ.tyJ5WjfiuuG3AH5ugaXlNNXPlZocDJnPpsnC7x-12_M00009071234567</textarea>
            </div>
            <div class="form-control-wrapper">
                <input type="button" value="Parse" id="parse">
            </div>
            
        </form>

            
        </div>
        <div class="iso-data-container">
            <table width="100%" border="1" style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td width="40">Field</td>
                        <td>Value</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>3</td>
                        <td>370000</td>
                    </tr>
                </tbody>           
            </table>
        </div>
            
    </div>
</body>
</html>
